# 手動テストチェックリスト

更新日: 2026-02-23
対象範囲:
- タイムライン
- ボーン編集
- VMD/VPD読み込み
- 再生/シーク/物理

## 1. 事前条件
- PMX/PMDモデル2体を読み込めること
- 任意VMD、VPD、カメラVMDを用意すること
- 物理ON/OFFを切り替え可能であること

## 2. モデル/タイムライン基礎
- [ ] モデル読込後、タイムラインにボーン/モーフ行が出る
- [ ] `0: Camera` 選択でカメラ1行（`Camera`）に切り替わる
- [ ] モデル再選択でボーン行表示に戻る
- [ ] アクティブモデル変更でトラック内容が切り替わる

## 3. 選択同期
- [ ] タイムライン行を選ぶとボーン欄のドロップダウンが同期
- [ ] ボーン欄で選ぶとタイムライン行が同期
- [ ] 3Dボーンクリックでボーン欄・タイムライン両方が同期
- [ ] 選択ボーンのみ強調色になる

## 4. ボーン操作
- [ ] 回転のみボーンで移動スライダーが表示されない
- [ ] 移動可能ボーンでPos/Rot両方を操作できる
- [ ] スライダー操作後、オーバーレイが追従する
- [ ] ギズモ移動/回転でモデルが破綻しない

## 5. キー編集
- [ ] `登録` で現在フレームにキーが追加される
- [ ] 既存キーのある同一フレームで再登録すると、最新値/補間が優先反映される（後勝ち）
- [ ] `削除` で選択キーまたは現在フレームキーが消える
- [ ] `Alt+←/→` で選択キーが1f移動する
- [ ] 選択キーなし `←/→` で通常フレーム移動できる
- [ ] カメラキー登録時、位置/回転/距離/FoVの実値スナップショットが保存される

## 5-2. 補間編集
- [ ] ボーン補間（X/Y/Z/回転）をドラッグ編集できる
- [ ] カメラ補間（X/Y/Z/回転/距離/FoV）をドラッグ編集できる
- [ ] 種別ドロップダウンで `全て` と単チャンネル表示を切り替えできる
- [ ] 中間フレームで後ろキー（Bキー）の補間が表示される
- [ ] 最後キーより後ろでは補間表示が出ない

## 6. VMD/VPD読み込み
- [ ] VMD読込後、キーがタイムラインに表示される
- [ ] VPD読込で現在フレームにポーズキーが登録される
- [ ] 連続VPD読込で既存キーとマージされる
- [ ] カメラVMD読込でカメラ1行にキーが表示される

## 7. 再生/停止
- [ ] 音源ありで再生・一時停止・停止が動作する
- [ ] 音源なしでも再生できる
- [ ] 末尾フレーム到達時に自動停止する
- [ ] 自動停止後、0fに戻らず末尾フレームを維持する

## 8. シーク/物理
- [ ] Home/Endで先頭/末尾に移動できる
- [ ] Home/End後に物理暴走（吹き飛び）が発生しない
- [ ] 再生中はボーンオーバーレイが非表示
- [ ] 物理ON状態でギズモドラッグしても破綻しない

## 9. 回帰メモ（任意記録）
- テスト日:
- 使用モデル:
- 使用モーション:
- 不具合:
- 再現手順:

## 10. プロジェクト保存/読み込み
- [ ] キーフレームが300fを超えるプロジェクトを保存できる
- [ ] 保存JSONで `keyframes` ブロックが末尾にある
- [ ] 保存JSONで配列が packed 形式（`u8-b64` / `f32-b64` / `u32-delta-varint-b64`）で出力される
- [ ] プロジェクト読込後、300f以降のキーがタイムライン表示される
- [ ] プロジェクト読込後の再生で300f以降も正常に再生される
- [ ] 旧形式（number配列）プロジェクトを読込して再生できる
